# Совместимость версий компонентов RAG

Для корректной работы системы необходимо соблюдать строгую совместимость между клиентскими библиотеками и версиями сервисов в Docker.

## Qdrant

**Текущая версия сервера:** `1.12.4`

### Правила совместимости
Согласно политике Qdrant, мажорные версии клиента и сервера должны совпадать, а разница в минорных версиях не должна превышать 1.

**Рекомендуемая версия клиента (`qdrant-client`):** `~1.12.0` (диапазон `>=1.12.0, <1.13.0`).

Если версия клиента (например, `1.16.2`) значительно выше версии сервера, клиент может выдавать `UserWarning` или работать некорректно из-за изменений в API (например, в структуре параметров поиска или именовании полей).

## Redis

**Текущая версия сервера:** `7.4.1` (из `docker-compose.yml`)
**Версия клиента (`redis`):** `~7.1.0`

Здесь совместимость обычно более гибкая, но рекомендуется придерживаться одной мажорной версии.

## LLM & LangChain

Используются фиксированные версии из `rag/pyproject.toml` для обеспечения стабильности работы с кастомными провайдерами (например, `ai-mediator.ru`):
- `langchain==0.3.14`
- `langchain-openai==0.2.14` (использует `base_url` вместо устаревшего `openai_api_base`)